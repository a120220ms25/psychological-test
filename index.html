<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>心理測驗 × 互動故事</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app">
        <div class="topbar">
            <div class="brand">心理測驗</div>
            <div class="controls">
                <button class="btn small" onclick="showAchievements()">🏆</button>
            </div>
        </div>

        <!-- 首頁 -->
        <div id="homeView" class="view">
            <div class="card hero">
                <h1>揭開你的內心世界</h1>
                <p>透過心理測驗，探索你不為人知的一面</p>
                <div class="home-actions">
                    <button class="btn primary" onclick="startGame()">開始測驗</button>
                    <button class="btn" onclick="showAchievements()">成就列表</button>
                </div>
                <div class="meta">
                    <span class="pill">📊 50+ 題目</span>
                    <span class="pill">🎯 即時分析</span>
                    <span class="pill">🏆 15 成就</span>
                </div>
                <div id="achievementsPreview" class="achievements-preview"></div>
            </div>
        </div>

        <!-- 遊戲畫面 -->
        <div id="gameView" class="view hide">
            <div class="card">
                <div id="progressWrap">
                    <div id="timerBar">
                        <div id="timerFill"></div>
                    </div>
                    <div id="qcounter">1 / ∞</div>
                </div>

                <div id="scene">
                    <div id="toneBadge" class="tone-badge"></div>
                    <div id="questionText"></div>
                    <div class="options" id="optionsContainer"></div>
                </div>
            </div>
        </div>

        <!-- 結果畫面 -->
        <div id="resultView" class="view hide">
            <div class="card" id="resultCard">
                <h3>心理分析</h3>
                <div id="resultPersonality"></div>
                <div id="resultPercentage"></div>
                <div id="resultDescription"></div>
                <div id="resultBadges"></div>
                <div class="result-actions">
                    <button class="btn primary" onclick="nextQuestion()">下一題</button>
                </div>
            </div>
        </div>

        <!-- 成就畫面 -->
        <div id="achievementView" class="view hide">
            <div class="card">
                <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px">
                    <h2 style="font-size:24px;font-weight:800">成就列表</h2>
                    <button class="btn small" onclick="hideAchievements()">✕</button>
                </div>
                <div id="achievementsList"></div>
                <div class="share-buttons">
                    <button class="btn-share btn-ig" onclick="shareToIG()">IG 限動</button>
                    <button class="btn-share btn-line" onclick="shareToLine()">LINE</button>
                </div>
            </div>
        </div>

        <!-- 成就彈窗 -->
        <div id="achievementPopup" class="achievement-popup">
            <div class="popup-icon">🏆</div>
            <h3 id="popupTitle"></h3>
            <p id="popupDescription"></p>
        </div>

        <div class="footer">
            Made with 💖 · 探索你的內心世界
        </div>
    </div>

    <script src="questions.js"></script>
    <script src="script.js"></script>
</body>
</html>
